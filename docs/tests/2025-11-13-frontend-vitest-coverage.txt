
> ma-saas-frontend@2.0.0 test:coverage
> node ./node_modules/vitest/vitest.mjs run --coverage


[1m[46m RUN [49m[22m [36mv4.0.8 [39m[90mC:/Projects/ma-saas-platform/M-S-SaaS-apex-deliver/frontend[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [31mâ¯[39m src/pages/marketing/CapLiquifyFPAPage.test.tsx [2m([22m[2m8 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1156[2mms[22m[39m
       [32mâœ“[39m should render main value proposition[32m 278[2mms[22m[39m
[31m       [31mÃ—[31m should render CapLiquify FP&A badge[39m[32m 284[2mms[22m[39m
       [32mâœ“[39m should render "13-Week Direct Cash Forecasting" feature[32m 62[2mms[22m[39m
       [32mâœ“[39m should render "Working Capital Drivers" feature[32m 82[2mms[22m[39m
       [32mâœ“[39m should render "Lender-Ready PDF Packs" feature[32m 166[2mms[22m[39m
       [32mâœ“[39m should render "ERP Integration" feature[32m 89[2mms[22m[39m
       [32mâœ“[39m should render Portfolio CFO use case[32m 136[2mms[22m[39m
       [32mâœ“[39m should render Controller use case[32m 51[2mms[22m[39m
 [31mâ¯[39m src/tests/integration/routing.test.tsx [2m([22m[2m4 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 4787[2mms[22m[39m
[31m     [31mÃ—[31m renders the landing page for visitors[39m[33m 4141[2mms[22m[39m
     [33m[2mâœ“[22m[39m directs visitors to the sign-in page when accessing the dashboard [33m 403[2mms[22m[39m
     [32mâœ“[39m displays the dashboard when the user is authenticated[32m 61[2mms[22m[39m
     [32mâœ“[39m renders the rich sign-in page without redirecting[32m 175[2mms[22m[39m
 [32mâœ“[39m src/components/master-admin/activity/GoalCard.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 4154[2mms[22m[39m
       [33m[2mâœ“[22m[39m should show edit button when not editing [33m 403[2mms[22m[39m
       [33m[2mâœ“[22m[39m should enter edit mode when edit button is clicked [33m 455[2mms[22m[39m
       [33m[2mâœ“[22m[39m should update input values when changed [33m 449[2mms[22m[39m
       [33m[2mâœ“[22m[39m should exit edit mode when cancel is clicked [33m 463[2mms[22m[39m
       [33m[2mâœ“[22m[39m should call updateGoal mutation when saving existing goal [33m 624[2mms[22m[39m
       [33m[2mâœ“[22m[39m should call createGoal mutation when saving new goal [33m 971[2mms[22m[39m
 [32mâœ“[39m src/components/podcast/EditEpisodeModal.test.tsx [2m([22m[2m26 tests[22m[2m)[22m[33m 5759[2mms[22m[39m
     [33m[2mâœ“[22m[39m updates title field when user types [33m 1061[2mms[22m[39m
     [33m[2mâœ“[22m[39m updates description field when user types [33m 422[2mms[22m[39m
     [33m[2mâœ“[22m[39m updates show notes field when user types [33m 718[2mms[22m[39m
     [33m[2mâœ“[22m[39m calls onSubmit with updated data when form submitted [33m 617[2mms[22m[39m
     [33m[2mâœ“[22m[39m does not call onSubmit when title is only whitespace [33m 505[2mms[22m[39m
     [33m[2mâœ“[22m[39m allows form submission after correcting validation errors [33m 489[2mms[22m[39m
 [32mâœ“[39m src/components/documents/DocumentList.test.tsx [2m([22m[2m19 tests[22m[2m)[22m[33m 4718[2mms[22m[39m
     [33m[2mâœ“[22m[39m should sort documents by name [33m 995[2mms[22m[39m
     [33m[2mâœ“[22m[39m should sort documents by date [33m 457[2mms[22m[39m
     [33m[2mâœ“[22m[39m shows bulk actions toolbar when documents are selected [33m 404[2mms[22m[39m
     [33m[2mâœ“[22m[39m bulk download triggers download for each selected document [33m 461[2mms[22m[39m
     [33m[2mâœ“[22m[39m bulk delete calls delete API for each selected document when confirmed [33m 498[2mms[22m[39m
 [31mâ¯[39m src/App.test.tsx [2m([22m[2m5 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 6365[2mms[22m[39m
[31m     [31mÃ—[31m renders the home route with sign-in actions for visitors[39m[33m 4684[2mms[22m[39m
     [32mâœ“[39m redirects visitors from the dashboard to the sign-in page[32m 279[2mms[22m[39m
     [32mâœ“[39m shows dashboard content when the user is authenticated[32m 270[2mms[22m[39m
[31m     [31mÃ—[31m updates the header to show the user menu for authenticated users[39m[33m 870[2mms[22m[39m
     [32mâœ“[39m routes to financial dashboard for authenticated users[32m 255[2mms[22m[39m
 [32mâœ“[39m src/pages/deals/DealDetails.test.tsx [2m([22m[2m19 tests[22m[2m)[22m[33m 7082[2mms[22m[39m
     [33m[2mâœ“[22m[39m should display deal details after loading [33m 331[2mms[22m[39m
     [33m[2mâœ“[22m[39m should enter edit mode when Edit button is clicked [33m 730[2mms[22m[39m
     [33m[2mâœ“[22m[39m should call updateDeal API when saving changes [33m 852[2mms[22m[39m
       [33m[2mâœ“[22m[39m should render tab navigation with Overview, Financials, Documents, and Team tabs [33m 744[2mms[22m[39m
       [33m[2mâœ“[22m[39m should show Overview tab content by default [33m 463[2mms[22m[39m
       [33m[2mâœ“[22m[39m should switch to Financials tab when clicked [33m 663[2mms[22m[39m
       [33m[2mâœ“[22m[39m should switch to Documents tab when clicked [33m 569[2mms[22m[39m
       [33m[2mâœ“[22m[39m should switch to Team tab when clicked [33m 608[2mms[22m[39m
       [33m[2mâœ“[22m[39m should persist active tab when re-rendering [33m 682[2mms[22m[39m
 [31mâ¯[39m src/tests/integration/PodcastStudioRouting.test.tsx [2m([22m[2m4 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[33m 9072[2mms[22m[39m
[31m     [31mÃ—[31m redirects visitors to sign-in when unauthenticated[39m[33m 5163[2mms[22m[39m
[31m     [31mÃ—[31m renders transcript details when user is signed in and feature enabled[39m[33m 1815[2mms[22m[39m
[31m     [31mÃ—[31m shows transcription upgrade prompt when API denies access[39m[33m 1049[2mms[22m[39m
[31m     [31mÃ—[31m displays quota warning when approaching limit[39m[33m 1036[2mms[22m[39m
 [32mâœ“[39m src/pages/deals/NewDealPage.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 7679[2mms[22m[39m
     [33m[2mâœ“[22m[39m shows validation errors when required fields missing [33m 1210[2mms[22m[39m
     [33m[2mâœ“[22m[39m submits payload and navigates to deal details on success [33m 4917[2mms[22m[39m
     [33m[2mâœ“[22m[39m displays backend error when createDeal rejects [33m 1545[2mms[22m[39m
 [32mâœ“[39m src/pages/tasks/TaskBoard.test.tsx [2m([22m[2m13 tests[22m[2m)[22m[33m 9743[2mms[22m[39m
     [33m[2mâœ“[22m[39m renders task board with required columns and tasks [33m 765[2mms[22m[39m
     [33m[2mâœ“[22m[39m persists filters when modified [33m 324[2mms[22m[39m
     [33m[2mâœ“[22m[39m filters tasks by assignee, status, priority, and due date [33m 1467[2mms[22m[39m
     [33m[2mâœ“[22m[39m sorts tasks by due date and priority [33m 970[2mms[22m[39m
     [33m[2mâœ“[22m[39m opens task creation modal and validates required fields [33m 2177[2mms[22m[39m
     [33m[2mâœ“[22m[39m opens task detail modal on card click and loads task detail data [33m 351[2mms[22m[39m
     [33m[2mâœ“[22m[39m updates task details from detail modal [33m 2085[2mms[22m[39m
     [33m[2mâœ“[22m[39m assigns a task from the detail modal [33m 529[2mms[22m[39m
     [33m[2mâœ“[22m[39m deletes a task from the detail modal [33m 494[2mms[22m[39m
 [31mâ¯[39m src/components/deals/CreateDealModal.test.tsx [2m([22m[2m29 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 11172[2mms[22m[39m
       [32mâœ“[39m should render modal when isOpen is true[32m 300[2mms[22m[39m
       [32mâœ“[39m should not render modal when isOpen is false[32m 4[2mms[22m[39m
       [32mâœ“[39m should render correct title for create mode[32m 92[2mms[22m[39m
       [32mâœ“[39m should render all form fields[32m 38[2mms[22m[39m
       [32mâœ“[39m should render action buttons[32m 118[2mms[22m[39m
       [32mâœ“[39m should render correct title for edit mode[32m 67[2mms[22m[39m
       [32mâœ“[39m should pre-fill form fields with existing deal data[32m 17[2mms[22m[39m
       [32mâœ“[39m should render update button instead of create[32m 76[2mms[22m[39m
       [32mâœ“[39m should show error for empty deal name[32m 200[2mms[22m[39m
       [33m[2mâœ“[22m[39m should show error for empty target company [33m 669[2mms[22m[39m
[31m       [31mÃ—[31m should show error for negative deal size[39m[33m 1694[2mms[22m[39m
       [33m[2mâœ“[22m[39m should not show errors when all required fields are filled [33m 1089[2mms[22m[39m
       [33m[2mâœ“[22m[39m should call onCreate when form is submitted with valid data [33m 1795[2mms[22m[39m
       [33m[2mâœ“[22m[39m should call onSuccess after successful creation [33m 1056[2mms[22m[39m
       [33m[2mâœ“[22m[39m should close modal after successful creation [33m 830[2mms[22m[39m
       [33m[2mâœ“[22m[39m should disable submit button while submitting [33m 1051[2mms[22m[39m
       [33m[2mâœ“[22m[39m should call onUpdate when editing existing deal [33m 611[2mms[22m[39m
       [32mâœ“[39m should call onClose when cancel button is clicked[32m 109[2mms[22m[39m
       [32mâœ“[39m should call onClose when clicking outside modal[32m 110[2mms[22m[39m
       [32mâœ“[39m should call onClose when pressing Escape key[32m 84[2mms[22m[39m
       [32mâœ“[39m should reset form when closing and reopening[32m 237[2mms[22m[39m
       [32mâœ“[39m should render all pipeline stages in dropdown[32m 21[2mms[22m[39m
       [32mâœ“[39m should default to sourcing stage for new deals[32m 16[2mms[22m[39m
       [32mâœ“[39m should render currency options[32m 16[2mms[22m[39m
       [32mâœ“[39m should default to GBP currency[32m 16[2mms[22m[39m
       [32mâœ“[39m should have proper ARIA labels for all inputs[32m 18[2mms[22m[39m
       [32mâœ“[39m should set focus on first input when modal opens[32m 82[2mms[22m[39m
       [33m[2mâœ“[22m[39m should trap focus within modal [33m 705[2mms[22m[39m
       [32mâœ“[39m should have proper heading hierarchy[32m 44[2mms[22m[39m
 [32mâœ“[39m src/pages/deals/valuation/ValuationSuite.test.tsx [2m([22m[2m14 tests[22m[2m)[22m[33m 10524[2mms[22m[39m
     [33m[2mâœ“[22m[39m shows loading indicator while valuations fetch [33m 399[2mms[22m[39m
     [33m[2mâœ“[22m[39m shows upgrade messaging when valuations endpoint rejects with entitlement error [33m 563[2mms[22m[39m
     [33m[2mâœ“[22m[39m submits new valuation when form completed [33m 1153[2mms[22m[39m
     [33m[2mâœ“[22m[39m allows adding comparable company to selected valuation [33m 1201[2mms[22m[39m
     [33m[2mâœ“[22m[39m allows adding precedent transaction to selected valuation [33m 2232[2mms[22m[39m
     [33m[2mâœ“[22m[39m allows creating a new scenario with JSON assumptions [33m 2085[2mms[22m[39m
     [33m[2mâœ“[22m[39m shows validation error when scenario assumptions JSON is invalid [33m 979[2mms[22m[39m
     [33m[2mâœ“[22m[39m shows detailed confirmation after queuing an export [33m 370[2mms[22m[39m
     [33m[2mâœ“[22m[39m runs Monte Carlo simulation and displays percentile summary [33m 638[2mms[22m[39m
 [32mâœ“[39m src/components/podcast/YouTubePublisher.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[33m 11769[2mms[22m[39m
     [33m[2mâœ“[22m[39m shows connect call-to-action when YouTube is not connected and triggers OAuth flow [33m 808[2mms[22m[39m
     [33m[2mâœ“[22m[39m prefills metadata form with episode details and enforces title length [33m 6040[2mms[22m[39m
     [33m[2mâœ“[22m[39m submits publish payload with metadata and schedule [33m 3529[2mms[22m[39m
 [31mâ¯[39m src/features/auth/Auth.test.tsx [2m([22m[2m3 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 14294[2mms[22m[39m
[31m     [31mÃ—[31m redirects unauthenticated users from /dashboard to /sign-in[39m[33m 3070[2mms[22m[39m
     [33m[2mâœ“[22m[39m shows dashboard content when the user is authenticated [33m 1109[2mms[22m[39m
[31m     [31mÃ—[31m renders the appropriate header action depending on auth state[39m[33m 10108[2mms[22m[39m
 [32mâœ“[39m src/pages/podcast/PodcastStudio.test.tsx [2m([22m[2m29 tests[22m[2m)[22m[33m 12557[2mms[22m[39m
       [33m[2mâœ“[22m[39m should show upgrade prompt when user lacks podcast_audio access [33m 668[2mms[22m[39m
       [33m[2mâœ“[22m[39m should show transcribe button when transcript missing [33m 539[2mms[22m[39m
       [33m[2mâœ“[22m[39m should call API and show success message when transcription completes [33m 647[2mms[22m[39m
       [33m[2mâœ“[22m[39m should provide transcript download links when transcript ready [33m 328[2mms[22m[39m
       [33m[2mâœ“[22m[39m allows editing metadata before publishing to YouTube when integration access granted [33m 3122[2mms[22m[39m
       [33m[2mâœ“[22m[39m initiates OAuth connect flow when YouTube account is not connected [33m 580[2mms[22m[39m
       [33m[2mâœ“[22m[39m should open Create Episode modal when New Episode button clicked [33m 362[2mms[22m[39m
       [33m[2mâœ“[22m[39m should create episode when form submitted with valid data [33m 1865[2mms[22m[39m
       [33m[2mâœ“[22m[39m should update episode when edit form submitted [33m 926[2mms[22m[39m
       [33m[2mâœ“[22m[39m should show delete confirmation when delete button clicked [33m 377[2mms[22m[39m
       [33m[2mâœ“[22m[39m should delete episode when deletion confirmed [33m 487[2mms[22m[39m
 [32mâœ“[39m src/components/podcast/LiveStreamManager.test.tsx [2m([22m[2m15 tests[22m[2m)[22m[33m 2898[2mms[22m[39m
     [33m[2mâœ“[22m[39m should render create stream button and invoke API on click [33m 442[2mms[22m[39m
     [33m[2mâœ“[22m[39m should render recording toggle and retention selector [33m 468[2mms[22m[39m
 [31mâ¯[39m src/pages/marketing/EnhancedLandingPage.test.tsx [2m([22m[2m18 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 3249[2mms[22m[39m
     [33m[2mâœ“[22m[39m renders without crashing [33m 319[2mms[22m[39m
[31m     [31mÃ—[31m renders EnhancedHeroSection[39m[32m 145[2mms[22m[39m
[31m     [31mÃ—[31m surfaces hero proof points for CapLiquify and ApexDeliver[39m[32m 153[2mms[22m[39m
     [33m[2mâœ“[22m[39m renders How It Works section [33m 852[2mms[22m[39m
     [32mâœ“[39m displays feature cards[32m 208[2mms[22m[39m
     [32mâœ“[39m renders Pricing Teaser section[32m 141[2mms[22m[39m
     [32mâœ“[39m displays branding with 100 Days & Beyond[32m 148[2mms[22m[39m
     [32mâœ“[39m shows three-step workflow[32m 140[2mms[22m[39m
     [32mâœ“[39m includes trust messaging in hero[32m 160[2mms[22m[39m
     [32mâœ“[39m renders TrustBadges component[32m 121[2mms[22m[39m
     [32mâœ“[39m renders CTASection component[32m 147[2mms[22m[39m
     [32mâœ“[39m includes SEO component with proper meta tags[32m 87[2mms[22m[39m
     [32mâœ“[39m displays sections in correct order[32m 111[2mms[22m[39m
     [32mâœ“[39m all CTAs link to sign-up page[32m 105[2mms[22m[39m
     [32mâœ“[39m includes Schedule a Demo CTA[32m 111[2mms[22m[39m
     [32mâœ“[39m includes Explore All Features CTA[32m 102[2mms[22m[39m
     [32mâœ“[39m renders final CTA section[32m 98[2mms[22m[39m
     [32mâœ“[39m includes Schedule a Demo CTA in final section[32m 96[2mms[22m[39m
 [32mâœ“[39m src/components/documents/UploadPanel.enhanced.test.tsx [2m([22m[2m34 tests[22m[2m)[22m[33m 3658[2mms[22m[39m
       [33m[2mâœ“[22m[39m should display cancel button for each uploading file [33m 715[2mms[22m[39m
 [32mâœ“[39m src/components/documents/FolderTree.test.tsx [2m([22m[2m13 tests[22m[2m)[22m[33m 3284[2mms[22m[39m
     [33m[2mâœ“[22m[39m lazy loads child folders when expanded [33m 854[2mms[22m[39m
     [33m[2mâœ“[22m[39m persists expanded folders between remounts [33m 606[2mms[22m[39m
     [33m[2mâœ“[22m[39m does not re-fetch child folders after initial load [33m 638[2mms[22m[39m
 [32mâœ“[39m src/pages/marketing/LandingPage.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[33m 3821[2mms[22m[39m
     [33m[2mâœ“[22m[39m renders the enhanced hero section headline [33m 698[2mms[22m[39m
     [33m[2mâœ“[22m[39m highlights CapLiquify FP&A messaging [33m 307[2mms[22m[39m
     [33m[2mâœ“[22m[39m adds quantified social proof stats and logos [33m 411[2mms[22m[39m
     [33m[2mâœ“[22m[39m maintains CTA section at the end [33m 1395[2mms[22m[39m
 [32mâœ“[39m src/components/deals/DealFilters.test.tsx [2m([22m[2m21 tests[22m[2m)[22m[33m 4488[2mms[22m[39m
       [33m[2mâœ“[22m[39m should render clear filters button [33m 390[2mms[22m[39m
       [33m[2mâœ“[22m[39m should call onSearchChange when typing in search input [33m 605[2mms[22m[39m
       [33m[2mâœ“[22m[39m should debounce search input (not call on every keystroke) [33m 530[2mms[22m[39m
       [33m[2mâœ“[22m[39m should clear search when clear button is clicked [33m 571[2mms[22m[39m
       [33m[2mâœ“[22m[39m should clear stage filter when clear button is clicked [33m 341[2mms[22m[39m
       [33m[2mâœ“[22m[39m should handle both search and stage filter simultaneously [33m 640[2mms[22m[39m
       [33m[2mâœ“[22m[39m should clear both filters when clear button is clicked [33m 613[2mms[22m[39m
 [32mâœ“[39m src/pages/deals/MatchingWorkspace.test.tsx [2m([22m[2m17 tests[22m[2m)[22m[33m 2710[2mms[22m[39m
       [33m[2mâœ“[22m[39m renders workspace with title and tabs [33m 759[2mms[22m[39m
       [33m[2mâœ“[22m[39m triggers find matches using selected preset [33m 302[2mms[22m[39m
       [33m[2mâœ“[22m[39m opens introduction request modal from detail view [33m 345[2mms[22m[39m
 [32mâœ“[39m src/pages/podcast/PodcastStudio.featureGates.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 2537[2mms[22m[39m
     [33m[2mâœ“[22m[39m shows audio controls but locks video uploads for Professional tier [33m 693[2mms[22m[39m
     [33m[2mâœ“[22m[39m opens the upgrade modal with pricing when CTA is clicked [33m 302[2mms[22m[39m
     [33m[2mâœ“[22m[39m renders quota HUD and warning when approaching limit [33m 403[2mms[22m[39m
 [32mâœ“[39m src/pages/documents/DocumentEditor.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 9014[2mms[22m[39m
     [33m[2mâœ“[22m[39m loads the document and supports rich text editing with autosave [33m 1907[2mms[22m[39m
     [33m[2mâœ“[22m[39m applies a selected template and updates the editor content [33m 752[2mms[22m[39m
     [33m[2mâœ“[22m[39m surfaces AI suggestions and handles accept, reject, and regenerate flows [33m 1618[2mms[22m[39m
     [33m[2mâœ“[22m[39m exports the document in the selected format with configured options [33m 1058[2mms[22m[39m
     [33m[2mâœ“[22m[39m lists version history and restores a selected version into the editor [33m 562[2mms[22m[39m
     [33m[2mâœ“[22m[39m handles save errors gracefully and displays retry messaging [33m 687[2mms[22m[39m
     [33m[2mâœ“[22m[39m updates context for AI suggestions when the user provides additional details [33m 2039[2mms[22m[39m
 [32mâœ“[39m src/components/marketing/ComparisonTable.test.tsx [2m([22m[2m40 tests[22m[2m)[22m[33m 2032[2mms[22m[39m
     [33m[2mâœ“[22m[39m displays all 15 feature rows [33m 409[2mms[22m[39m
 [32mâœ“[39m src/components/master-admin/activity/ActivityForm.test.tsx [2m([22m[2m20 tests[22m[2m)[22m[33m 4760[2mms[22m[39m
       [33m[2mâœ“[22m[39m should render the form with all required fields [33m 569[2mms[22m[39m
       [33m[2mâœ“[22m[39m should update notes when changed [33m 471[2mms[22m[39m
       [33m[2mâœ“[22m[39m should submit form with all field values [33m 1233[2mms[22m[39m
       [33m[2mâœ“[22m[39m should reset form after successful submission [33m 500[2mms[22m[39m
       [33m[2mâœ“[22m[39m should not reset form if submission fails [33m 904[2mms[22m[39m
 [32mâœ“[39m src/pages/marketing/SecurityPage.test.tsx [2m([22m[2m21 tests[22m[2m)[22m[33m 2278[2mms[22m[39m
       [33m[2mâœ“[22m[39m should render main heading [33m 313[2mms[22m[39m
       [33m[2mâœ“[22m[39m should render uptime claim in header [33m 370[2mms[22m[39m
 [32mâœ“[39m src/components/documents/BulkActions.test.tsx [2m([22m[2m15 tests[22m[2m)[22m[33m 1506[2mms[22m[39m
       [33m[2mâœ“[22m[39m should display bulk download button [33m 479[2mms[22m[39m
 [32mâœ“[39m src/pages/deals/TaskBoard.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 2296[2mms[22m[39m
     [33m[2mâœ“[22m[39m opens create task modal when "Add Task" button is clicked [33m 502[2mms[22m[39m
     [33m[2mâœ“[22m[39m creates a new task when form is submitted [33m 985[2mms[22m[39m
     [33m[2mâœ“[22m[39m updates task status when moved to different column [33m 413[2mms[22m[39m
