# V1.2 Enhancement Scope – M&A Intelligence Platform

**Status:** Draft (2025-11-18)  
**Owner:** Codex (Architect)  
**Source Inputs:** `docs/PRD.md`, `docs/architecture.md`, `docs/bmm-workflow-status.yaml`, BMAD plan `full-404900.plan.md`

---

## 1. Objectives

1. **Close Open TODOs:** Resolve the 11 backend and 12 frontend TODOs called out in `docs/bmm-workflow-status.yaml`, with priority on pagination, caching, UX refinements, and automation polish.  
2. **Performance & Accessibility:** Lift Lighthouse performance/accessibility to ≥90 by tightening React/Vite bundles, eliminating layout shift, and adopting Axe-driven fixes.  
3. **Coverage Increase:** Raise backend coverage from 84% → ≥90% and frontend from 85.1% → ≥90% via TDD-first stories.  
4. **Production Polish:** Strengthen monitoring, analytics, and deployment hygiene (Render health checks, stricter prestart validations, documented rollback playbooks).  
5. **Documentation & Workflow Sync:** Keep BMAD workflow artifacts (stories, architecture, deployment notes) current so agents and humans share the same ground truth.

---

## 2. Scope Breakdown

| Stream | Key Deliverables | Owners | Dependencies |
| --- | --- | --- | --- |
| Backend Reliability | Close outstanding TODOs, add pagination/caching layers, tighten Celery + Redis instrumentation, deliver new Alembic migrations as needed | Backend dev + DevOps | Existing FastAPI services, database migrations |
| Frontend Experience | UX polish for marketing and workspace flows, improved accessibility (WCAG 2.1 AA), React Query cache tuning, snapshot refresh | Frontend dev + Design | Backend API stability |
| Cross-Cutting Systems | Auth hardening (Clerk hooks), billing telemetry, document storage safeguards, AI guardrails review | Platform architect + Security | Existing Stripe/Clerk/R2 integrations |
| Infrastructure & Ops | Update `render.yaml`, `prestart.sh`, deployment checklists, add synthetic monitoring and solutioning-gate validation | DevOps + QA | Backend/Frontend changes |
| Quality Gates | Pytest w/ coverage, Vitest + linting, Lighthouse + Axe audits, BMAD `solutioning-gate-check`, release notes update | QA + TEA agent | Completion of other streams |

---

## 3. Story Seeds

- **BCK-201 Pagination Sweep:** Add cursor-based pagination to deals, documents, valuations, and tasks endpoints; update React Query hooks and UI list components.  
- **BCK-202 Caching Layer:** Introduce Redis-backed caching for read-heavy analytics endpoints with invalidation hooks tied to Celery workers.  
- **FRN-180 Accessibility Blitz:** Apply semantic landmarks, keyboard traps fixes, focus outlines, and snapshot updates across marketing pages and workspace layouts.  
- **FRN-181 Performance Tuning:** Implement route-based code splitting plus image optimization, ensuring p95 < 2.5s on marketing hero and <1.2s on workspace dashboards.  
- **OPS-110 Deployment Guardrails:** Enhance `prestart.sh` to enforce schema drift detection, add Render health-check docs, and script fallback promotion steps.  
- **QA-095 Coverage Push:** Expand test suites (pytest fixtures + Vitest) to exceed coverage targets; document deltas in `docs/testing/coverage-report-v1.2.md`.

> Final story cards must live in `docs/bmad/stories/` per BMAD conventions; this section captures seed ideas for decomposition.

---

## 4. Success Metrics

- Backend coverage ≥90%, Frontend coverage ≥90%, all tests green in CI.  
- Lighthouse: Performance ≥92, Accessibility ≥95, Best Practices ≥95, SEO ≥95.  
- Solutioning-gate check passes with zero blockers; deployment verification logs appended to `docs/deployments/`.  
- `docs/bmm-workflow-status.yaml` updated with v1.2 artifacts and next workflow pointers.

---

## 5. Risks & Mitigations

| Risk | Impact | Mitigation |
| --- | --- | --- |
| Redis cache drift or stale reads | Incorrect analytics, inconsistent UX | Implement cache version keys + invalidation hooks tied to CRUD services |
| Coverage push delays due to flaky tests | Release blocker | Prioritize flaky test stabilization before adding new tests; leverage TEA agent reviews |
| Accessibility regressions from rapid UI changes | Non-compliance, user friction | Integrate Axe checks into CI, require snapshot approvals |
| Deployment drift between local and Render | Prod incidents | Extend `prestart.sh` validation, document required env vars, run smoke tests before promotion |

---

## 6. Next Actions

1. Update PRD & architecture docs with v1.2 focus zones (completed with this scope doc).  
2. Run gap analysis across `backend/app/**` and `frontend/src/**`; create BMAD stories per stream.  
3. Kick off backend + frontend TDD waves, keeping `docs/bmm-workflow-status.yaml` synced.  
4. Schedule QA/audit window prior to v1.2 release candidate.

---

_Maintained per BMAD v6.0.0-alpha.9 Ceremony. Keep this file alongside plan `full-404900.plan.md` for traceability._

